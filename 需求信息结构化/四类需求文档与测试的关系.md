## 四类需求文档与测试的关系

### 四类文档与测试活动的关联

| 信息项名称                 | 标准中定义描述                                           | 来源文档      | 原始信息项编号                      | 关联测试要素       | 与测试设计的关联说明                                |
| --------------------- | ------------------------------------------------- | --------- | ---------------------------- | ------------ | ----------------------------------------- |
| 业务目标与动机               | 说明组织为何需要新系统或改变现有业务。描述组织目标以及系统如何帮助实现这些目标。          | BRS       | 9.3.2 / 9.3.7                | 验收测试目标定义     | 指导高层目标类的用户验收标准（如提升效率、合规性等）                |
| 业务范围/边界               | 描述系统所支持的业务域、功能活动及其边界条件。明确系统内与系统外的内容。              | BRS       | 9.3.3                        | 关键业务路径       | 关键业务路径                                    |
| 高层业务流程                | 描述业务中关键流程的顺序和逻辑，展示用户与系统之间的高层交互路径。                 | BRS       | 9.3.10                       | 场景测试         | 形成高阶业务流程测试场景，识别关键路径                       |
| 操作概念（OpsCon）          | 描述系统在预期操作环境下如何运行，包括策略、任务、角色、用户类型、运行模式等。           | BRS/StRS  | 9.3.16 / 9.4.16              | 操作测试场景       | 用于推导用户行为路径、角色权限边界等                        |
| 操作场景（Scenario）        | 说明系统与用户或其他系统在关键操作情境下如何交互。可使用故事板、原型等表达。            | BRS/StRS  | 9.3.17 / 9.4.17              | 典型使用案例测试     | 构建验收用例核心脚本                                |
| 用户需求（User Needs）      | 为达成用户目标而需系统提供的需求，包括功能、质量特性、约束等。涉及界面行为、场景、用户目标。    | StRS      | 9.4.15                       | 用户故事测试、UAT   | 定义用户功能期望，是UAT测试的直接输入                      |
| 关键性能指标（KPI）           | 定义系统必须满足的性能度量标准，如响应时间、容量、并发用户数等。                  | StRS/SyRS | 6.3.3.6 / 9.5.7              | 性能测试、稳定性测试   | 明确响应时间、吞吐量、并发数等测试标准                       |
| 功能性需求（FR）             | 系统在运行过程中必须执行的具体功能行为，是需求规格的核心内容。                   | SyRS/SRS  | 9.5.5 / 9.6.12               | 功能测试         | 测试基本功能正确性（输入/处理/输出）                       |
| 非功能性需求（NFR）           | 与系统属性相关的需求，如可靠性、安全性、可用性、可维护性、兼容性等。                | SyRS/SRS  | 9.5.6-9.5.15 / 9.6.13-9.6.18 | 可用性、安全、恢复等测试 | 定义性能、安全、可维护性等专项测试的目标和方法                   |
| 接口需求（Interface）       | 描述系统与外部或内部组件之间的交互接口，包括通信协议、数据格式、物理连接等。            | SyRS/SRS  | 9.5.8 / 9.6.11               | 接口测试、集成测试    | 明确外部系统/设备交互格式、协议、内容等                      |
| 安全需求                  | 描述系统的安全保护需求，如认证、授权、加密、访问控制、安全事件记录等。               | SyRS/SRS  | 9.5.13 / 9.6.14              | 安全测试         | 定义认证、授权、加密等验证点                            |
| 环境/平台依赖               | 系统运行所需的物理、技术或法规环境条件，包括硬件平台、温湿度、电磁干扰、网络等依赖项。       | SyRS/SRS  | 9.5.12 / 9.6.7               | 兼容性测试（环境适应性） | 明确操作系统、数据库、中间件、网络依赖等条件                    |
| 验证方法与准则               | 为每项需求指定验证方式，如测试、分析、检查或演示。用于确认系统是否满足需求。            | SyRS/SRS  | 9.5.18 / 9.6.19              | 验证测试         | 明确每项需求采用的验证方式，如测试/分析/演示/检查                |
| 用户界面（User Interfaces） | 描述系统与用户交互界面应具备的逻辑特性、组织方式及风格。应参考 UI 风格指南确保一致性与可用性。 | SyRS      | 9.6.13                       | UI测试         | 建议使用 UI 风格指南（style guide）来确保界面组织、一致性和交互性。 |

### 功能需求相关

| 信息项名称            | 来源文档     | 原始信息项编号         | 关联测试要素     | 与测试设计的关联说明                 |
| ---------------- | -------- | --------------- | ---------- | -------------------------- |
| 业务目标与动机          | BRS      | 9.3.2 / 9.3.7   | 验收测试目标定义   | 指导高层目标类的用户验收标准（如提升效率、合规性等） |
| 业务范围/边界          | BRS      | 9.3.3           | 关键业务路径     | 关键业务路径                     |
| 高层业务流程           | BRS      | 9.3.10          | 场景测试       | 形成高阶业务流程测试场景，识别关键路径        |
| 操作概念（OpsCon）     | BRS/StRS | 9.3.16 / 9.4.16 | 操作测试场景     | 用于推导用户行为路径、角色权限边界等         |
| 操作场景（Scenario）   | BRS/StRS | 9.3.17 / 9.4.17 | 典型使用案例测试   | 构建验收用例核心脚本                 |
| 用户需求（User Needs） | StRS     | 9.4.15          | 用户故事测试、UAT | 定义用户功能期望，是UAT测试的直接输入       |
| 功能性需求（FR）        | SyRS/SRS | 9.5.5 / 9.6.12  | 功能测试       | 测试基本功能正确性（输入/处理/输出）        |
| *接口需求（Interface） | SyRS/SRS | 9.5.8 / 9.6.11  | 接口测试、集成测试  | 明确外部系统/设备交互格式、协议、内容等       |

#### 用户需求需要定义的内容

| 信息项                                       | 描述                                        |
| ----------------------------------------- | ----------------------------------------- |
| **用户目标（User Goals）**                      | 用户希望系统实现的功能性或非功能性目标，例如“快速完成预约”、“保障数据安全”等。 |
| **交互方式（Interaction）**                     | 用户与系统如何交互，如通过网页表单、移动端App、语音命令等。           |
| **性能期望（Performance Expectations）**        | 用户期望的速度、响应时间、准确性等性能指标。                    |
| **可用性要求（Usability Needs）**                | 对用户界面友好性、学习成本、操作错误容忍度等方面的需求。              |
| **访问/权限约束（Access Constraints）**           | 用户在系统中的访问范围或权限，如只读用户、管理员用户等。              |
| **使用情境/场景（Usage Context）**                | 系统使用的环境、时间或情景限制，如“在车内使用”、“断网状态下可缓存”等。     |
| **语言与本地化要求（Language/Localization）**       | 支持的语言、时区、日期格式等本地化需求。                      |
| **兼容性需求（Compatibility）**                  | 用户希望系统能兼容的浏览器、设备、操作系统等。                   |
| **法律/合规约束（Legal/Regulatory Constraints）** | 适用于用户的法律、标准、行业规范等，如 GDPR、无障碍规定等。          |

用户需求应以用户为主语进行描述，推荐使用如下格式：

    “作为一个[用户角色]，我希望能[做某事]，以便[达成目标]。”

示例：

    “作为一名普通用户，我希望能通过手机 App 快速预约车位，以便节省停车时间。”
    “作为一名管理员，我希望系统在夜间提供异常告警功能，以便及时处理设备故障。”

#### 用户需求与测试的关系

|作用|示例说明|
|---|---|
|指导验收测试用例设计|每项用户需求对应一个或多个高层UAT测试场景|
|提供界面行为输入|用于推导界面流程、前端用例测试路径|
|明确测试优先级|用户核心目标对应关键路径测试，优先级高|
|约束测试环境|明确兼容性测试、可用性测试所需条件|

#### 操作场景应包含的核心信息项

| 信息项                                    | 描述                                 | 来源     |
| -------------------------------------- | ---------------------------------- | ------ |
| **唯一标识**                               | 每个场景应具备**唯一名称与编号**，可在业务流程中引用       | 9.4.17 |
| **使用情境（Context of Use）**               | 描述场景发生的背景、前提环境和系统运行状态（如正常/异常模式）    | A.2.7  |
| **参与者角色（Actors/User Classes）**         | 明确与系统交互的用户角色、操作员、维护人员等，以及他们的行为和权限  | A.2.7  |
| **事件与动作（Events & Actions）**            | 描述用户与系统之间交互的行为链，按顺序呈现操作步骤和系统响应     | A.2.7  |
| **输入与刺激（Inputs & Stimuli）**            | 场景开始与推进所需的外部输入、触发事件等，例如用户点击、传感器信号等 | A.2.7  |
| **系统响应与信息流（Outputs & Interactions）**   | 系统的处理结果及与外部组件的交互，如界面反馈、服务调用等       | A.2.7  |
| **异常/备选路径（Exception/Alternate Flows）** | 描述在高负载、异常输入、降级模式等条件下的行为变化          | A.2.7  |
| **原型与媒体支持（Prototype/Media）**           | 可用原型、故事板、视频或多媒体方式表达场景内容            | A.2.7  |
| **作用与用途（Purpose/Utility）**             | 可用于识别需求、验证设计、创建验收测试计划、撰写用户手册等      | A.2.7  |

建议写法：
```text
场景编号：SCN-001  
场景名称：用户通过移动端预约车位  
使用情境：工作日早高峰，用户在上班途中使用App预约园区车位  
参与者角色：普通用户  
主要事件：  
  1. 用户打开App并登录  
  2. 用户选择目标园区与时间段  
  3. 系统显示可预约车位列表  
  4. 用户点击预约  
  5. 系统返回预约成功信息与二维码  
异常路径：  
  - 若目标时间段无车位 → 提示无可用车位 → 引导重新选择  
媒体/原型：交互流程图 + Wireframe界面草图  
用途：用于功能验收测试、用户手册内容、验证预约功能完整性
```


#### 功能性需求需要定义的内容

#### ISO/IEC/IEEE 29148:2018 定义的内容
根据《ISO/IEC/IEEE 29148:2018》标准第 9.5.5 节的内容，标准第 6.4.3.3 节


| 要素     | 描述                            | 示例（车位管理系统）                                                                    | 结合我司现状 |
| ------ | ----------------------------- | ----------------------------------------------------------------------------- | ------ |
| 功能描述   | 每项系统需执行的功能行为，通常以“系统应能……”表述。   | 系统应能接收用户提交的预约请求，并在目标时间段为其分配一个空闲车位。                                            | √      |
| 输入     | 功能接受的输入项，如用户操作、外部接口消息等。       | 用户ID、预约时间段、期望车位类型（如靠近出口、地面/地下）、请求时间戳                                          | √      |
| 处理逻辑   | 功能的核心处理过程或规则，可简要说明核心算法/分支行为。  | 检查用户身份与预约资格 → 查询目标时间段车位使用情况 → 按优先规则（距离、类型）匹配空闲车位 → 生成预约记录                     | √      |
| 输出     | 功能产生的输出项，如消息、状态变更、数据存储等。      | 预约确认信息（车位编号、预约时间段、二维码凭证）、预约ID、预约状态                                            | √      |
| 触发条件   | 功能开始执行的条件，如用户动作、定时器、事件等。      | 用户在App或Web界面点击“提交预约”按钮                                                        | √      |
| 业务规则引用 | 与此功能相关的业务规则或策略，通常引用自BRS或StRS。 |                                                                               |        |
| 约束条件   | 对该功能施加的限制，如输入范围、合法性、优先级等。     | 不接受空值输入；预约时间段不得早于当前时间；用户状态必须为“激活”;用户每天最多可提交3次预约；同一用户不可重复预约同一时间段；预约只允许提前1天以内进行 | √      |
| 状态依赖性  | 功能是否依赖于某个系统状态或模式（如“维护模式不可用”）。 | 仅在系统处于“正常运行模式”下可执行该功能；在“维护模式”下将返回错误提示                                         | √      |
| 可追踪标识  | 每项功能需求应具备唯一编号，用于追踪测试与验证。      | FR-RESERVE-001                                                                |        |
| 验证方法   | 明确该功能如何验证，例如“功能测试”、“模拟输入”等。   | 编写黑盒功能测试用例：使用有效与无效数据进行预约测试，覆盖正常路径与失败路径；验证预约记录是否正确生成；测试界面响应与反馈信息是否正确展示         |        |

### 功能测试设计关联

| 测试维度        | 描述           | 关联的信息                                                                     | 示例  |
| ----------- | ------------ | ------------------------------------------------------------------------- | --- |
| 功能实现正确性     |              | 功能性需求（功能描述）                                                               |     |
| 参数类测试       | 不同输入下功能实现正确性 | 功能性需求（功能描述、输入、输出、约束条件）                                                    |     |
| 流程类测试       | 流程路径覆盖测试     | 功能性需求（功能描述、处理逻辑、输入、输出、状态依赖性）、用户需求（User Needs）、操作场景（Scenario）、操作概念（OpsCon） |     |
| 用户故事测试/验收测试 |              | 业务目标与动机、高层业务流程、用户需求（User Needs）、操作场景（Scenario）、操作概念（OpsCon）               |     |
| 接口功能测试      |              | 接口需求                                                                      |     |
