
# 定义

## 功能测试

验证系统或组件是否按照**需求规格说明书（SRS）或其他定义** 的 **功能需求**描述 来正确运行。（ISO/IEC/IEEE 29119-1，功能测试是一种**基于功能需求或描述**的测试，用来评估系统或其组件的功能是否按照规定执行）

> [!info] 系统的定义
> 按照 **ISO/IEC/IEEE 29148:2018** 的定义：
> - **系统**是一个有机整体，通常由硬件、软件、人、流程、数据等部分组成，用于实现某个业务目标。
> - 在软件项目中，如果我们说“系统”，通常指的是整个应用或产品
> 
案例：停车管理系统、车位管理系统。

> [!info] 组件的定义
> 按照 **ISO/IEC/IEEE 29148:2018** 的定义：
> - **组件**是系统中的一个**可区分的部分**，它可以是模块、子系统、服务、类库，甚至是硬件部件。
> - 组件是系统的“构建块”，它本身也可以有功能需求。
> 
> 案例：用户管理模块

> [!info] 功能需求范围
> **所有定义了系统应该做“什么”的需求**，包括：
> - 功能性需求 (Functional requirements, 9.6.10)
> - 外部接口需求 (External interface requirements, 9.6.11)
> - 用户界面需求 (User interface requirements, 9.6.13)

> [!info] 功能性需求定义
> **功能性需求（functional requirement）** 是指系统或系统组件必须提供的功能。这类需求规定了系统在输入、行为和输出方面应该做什么，以支持用户目标或满足业务需求。它们通常以 **“系统应能……”（The system shall …）** 的形式来表达，必须是**可验证的**，即能够通过检查、演示、测试等方式确认其实现情况。
> 
> 案例：
> 系统应能在巡检发现异常时，通过短信向配置的运维人员发送通知。

**UI 测试、API 测试、交互测试都可以归类为功能测试的子集**

## 针对功能性需求的测试
### 案例

>[!info] 功能性需求
>**FR-001**: 系统应能支持用户创建录像巡检任务，并允许用户配置以下参数：
>1. 巡检范围（IPC列表）；
>2. 巡检周期（以天为单位，取值范围 1-365）；
>3. 执行时间（24 小时制，精确到分钟）。
>
>当用户保存任务后，系统应能在配置的时间自动触发巡检，并在执行完成后生成巡检报告。

## UI测试

- **定义**：验证用户界面（UI）的元素是否正确显示、布局合理、可见可用，并符合需求规格。
- **关注点**：
    - 按钮、输入框、菜单、图标、表格是否存在、位置是否正确；
    - 文本内容（提示、错误消息、标签）是否正确；
    - 界面在不同分辨率、浏览器、终端下是否正常显示。
        
- **例子**（录像巡检）：
    - “保存”按钮是否出现在界面右下角；
    - 错误提示是否清晰（例如输入周期超过365天时提示“取值范围1-365”）。
- **所需要的需求信息**
	- **用户界面需求 (SRS 9.6.13)**
		- 界面元素：按钮、输入框、表格、菜单等是否存在。
		- 界面布局：位置、顺序、对齐方式。
		- 界面内容：提示文字、错误信息、标签名称。
		- 显示格式：日期格式、颜色、字体大小。
		- 界面约束：输入范围、必填项标识。

## API功能测试

- **定义**：通过调用系统的 API 接口，验证其功能是否按照需求正确实现。
- **关注点**：
    - API 输入参数是否合法（类型、范围、必填项）；
    - API 响应是否符合规范（HTTP 状态码、返回字段、数据格式）；
    - 功能逻辑是否正确（调用接口后系统状态是否如预期改变）。
- **例子**（录像巡检）：
    - 调用 `POST /vms/v1/createVideoInspection`，传入范围、周期、时间，检查是否返回 `taskId` 和状态 `created`；
- **所需要的需求信息**：
	- **功能性需求 (SRS 9.6.10)**
	    - API 实现的业务功能：比如“系统应能支持创建巡检任务”。
	    - 功能逻辑：输入 → 处理逻辑 → 输出。
	- **外部接口需求 (SRS 9.6.11, 软件接口/通信接口)**
	    - API 协议：REST, gRPC, SOAP 等。
	    - 接口定义：URL、HTTP 方法、参数格式（JSON/XML）、返回值结构。
	    - 参数约束：类型、必填/选填、取值范围。
	    - 错误码及异常处理。
	    - 认证/鉴权要求（Token, OAuth2 等）。
## 界面交互测试

- **定义**：验证用户在界面上的一系列操作（交互顺序/逻辑）是否正确触发系统功能，并给出预期反馈。
- **关注点**：
    - 用户操作路径（点哪里、输入什么、点击确认）；
    - 界面是否正确响应（跳转、刷新、弹窗、状态更新）；
    - 操作顺序和约束是否合理（必须先选范围才能点保存）。
- **例子**（录像巡检）：
    - 用户依次选择巡检范围 → 输入周期 → 设置执行时间 → 点击“保存”；系统必须验证输入 → 给出“任务已创建”提示。
    - 用户点击“立即执行巡检” → 系统应启动任务并刷新状态。
- **所需要的需求信息**：
	- **用户界面需求 (SRS 9.6.13)**
	    - 交互顺序（用户必须先做什么再做什么）。
	    - 操作约束（灰化按钮、输入校验规则）。
	    - 界面反馈（弹窗、刷新、提示信息）。
	- **功能性需求 (SRS 9.6.10)**
	    - 界面操作触发的业务功能。
	    - 功能执行后的状态变化（任务是否保存成功）。
	- **操作规则 / 场景需求 (BRS/StRS/SRS 中的场景部分)**
	    - 典型用户流程：运维人员配置任务 → 保存 → 系统定时执行 → 通知用户。
	    - 异常场景：输入不合法、任务执行失败时的提示。
